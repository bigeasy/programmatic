require('../proof')(1, function (dump, equal) {
    var fs = require('fs'), path = require('path'), programmatic = require('../..')
    var escodegen = require('escodegen')

    var body = fs.readFileSync(path.join(__dirname, 'fixtures', 'parameter.p.js'), 'utf8')
    var result = programmatic.generate(body).shift()
    var source = escodegen.generate(result, { format: { semicolons: false } })
    fs.writeFileSync(path.join(__dirname, 'generators', 'parameter.js'), source, 'utf8')
    console.log(source)
    var generators = require('./generators/parameter')
    //console.log(dump(generators.parameter(1)))
    var source = escodegen.generate(generators.parameter(1), { format: { semicolons: false } })
    console.log(source)
    fs.writeFileSync(path.join(__dirname, 'generated', 'parameter.js'), source, 'utf8')
    var generated = require('./generated/parameter')
    equal(generated(), 1, 'generated')
})
